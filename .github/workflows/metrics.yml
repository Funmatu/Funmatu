name: Metrics
on:
  schedule:
    - cron: "10 0 * * *"
  workflow_dispatch:
jobs:
  github-metrics:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - name: ğŸ“Š GitHub Metrics
        uses: lowlighter/metrics@latest
        with:
          token: ${{ secrets.PERSONAL_ACCESS_TOKEN }}
          filename: github-metrics.svg
          base: header, activity, community, repositories, metadata
          config_timezone: Asia/Tokyo
          
          # â”€â”€â”€ å®‰å®šæ€§ãƒ»ãƒ‡ãƒãƒƒã‚°è¨­å®š â”€â”€â”€
          plugins_errors_fatal: no
          debug: yes # ã‚¨ãƒ©ãƒ¼æ™‚ã€SVGå†…ã«è©³ç´°ãªç†ç”±ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
          
          # â”€â”€â”€ ã‚³ãƒ¼ãƒ‰è¡Œæ•°ãƒ»è¨€èªçµ±è¨ˆ â”€â”€â”€
          plugin_lines: yes
          plugin_languages: yes
          plugin_languages_details: lines, bytes-size, percentage
          
          # â”€â”€â”€ é–‹ç™ºç¿’æ…£ (Coding Habits) â”€â”€â”€
          # ã€ŒUnexpected errorã€å¯¾ç­–ã¨ã—ã¦factsã‚’æœ‰åŠ¹åŒ–
          plugin_habits: yes
          plugin_habits_from: 200
          plugin_habits_days: 14
          plugin_habits_facts: yes      # äº‹å®Ÿï¼ˆäº‹å®Ÿãƒ™ãƒ¼ã‚¹ã®çµ±è¨ˆï¼‰ã‚’è¡¨ç¤º
          plugin_habits_charts: yes     # ã‚°ãƒ©ãƒ•ã‚’è¡¨ç¤º
          
          # â”€â”€â”€ Issue / PR è¿½è·¡ (Follow-up) â”€â”€â”€
          plugin_followup: yes
          plugin_followup_sections: user
          
          # â”€â”€â”€ GitHub Projects â”€â”€â”€
          plugin_projects: yes
          plugin_projects_limit: 5
          
          # â”€â”€â”€ å®Ÿç¸¾ãƒãƒƒã‚¸ (Achievements) â”€â”€â”€
          plugin_achievements: yes
          plugin_achievements_display: compact
          plugin_achievements_threshold: B # Bãƒ©ãƒ³ã‚¯ä»¥ä¸Šã®å®Ÿç¸¾ã®ã¿è¡¨ç¤ºï¼ˆã‚¨ãƒ©ãƒ¼å›é¿ã«æœ‰åŠ¹ï¼‰
          plugin_achievements_secrets: no
