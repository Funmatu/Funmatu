name: Metrics
on:
  schedule:
    - cron: "10 0 * * *"
  workflow_dispatch:
jobs:
  github-metrics:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - name: ğŸ“Š GitHub Metrics
        uses: lowlighter/metrics@latest
        with:
          token: ${{ secrets.PERSONAL_ACCESS_TOKEN }}
          filename: github-metrics.svg
          base: header, activity, community, repositories, metadata
          config_timezone: Asia/Tokyo
          plugins_errors_fatal: no
          debug: yes
          
          # â”€â”€â”€ ã‚³ãƒ¼ãƒ‰è¡Œæ•°ãƒ»è¨€èªçµ±è¨ˆ â”€â”€â”€
          plugin_lines: yes
          plugin_languages: yes
          plugin_languages_details: lines, bytes-size, percentage
          
          # â”€â”€â”€ é–‹ç™ºç¿’æ…£ (Habits) ä¿®æ­£ç­– â”€â”€â”€
          plugin_habits: yes
          plugin_habits_from: 150        # ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã‚’é¿ã‘ã‚‹ãŸã‚ä»¶æ•°ã‚’å°‘ã—èª¿æ•´
          plugin_habits_days: 14
          plugin_habits_facts: yes
          plugin_habits_charts: yes
          plugin_habits_trim: yes        # ç„¡åŠ¹ãªãƒ‡ãƒ¼ã‚¿ã‚’ãƒˆãƒªãƒŸãƒ³ã‚°
          
          # â”€â”€â”€ Issue / PR è¿½è·¡ â”€â”€â”€
          plugin_followup: yes
          plugin_followup_sections: user
          
          # â”€â”€â”€ GitHub Projects â”€â”€â”€
          plugin_projects: yes
          plugin_projects_limit: 4

          # â”€â”€â”€ å®Ÿç¸¾ (Achievements) ä¿®æ­£ç­– â”€â”€â”€
          plugin_achievements: yes
          plugin_achievements_display: compact
          plugin_achievements_threshold: B
          plugin_achievements_ignored: member, maintainer # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¨©é™ãŒçµ¡ã‚€å®Ÿç¸¾ã‚’ç„¡è¦–
          plugin_achievements_secrets: no
